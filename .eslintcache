[{"C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\index.js":"1","C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\reportWebVitals.js":"2","C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\App.js":"3","C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\utils\\poems.js":"4","C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\Petitions.js":"5","C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\User.js":"6","C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\Petition.js":"7","C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\AddNew.js":"8","C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\Header.js":"9","C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\contexts\\UserContext.js":"10"},{"size":402,"mtime":1607874127362,"results":"11","hashOfConfig":"12"},{"size":375,"mtime":1607791849762,"results":"13","hashOfConfig":"12"},{"size":2865,"mtime":1607874127357,"results":"14","hashOfConfig":"12"},{"size":327503,"mtime":1607791849770,"results":"15","hashOfConfig":"12"},{"size":314,"mtime":1607874127358,"results":"16","hashOfConfig":"12"},{"size":4514,"mtime":1607874127361,"results":"17","hashOfConfig":"12"},{"size":952,"mtime":1607874736736,"results":"18","hashOfConfig":"12"},{"size":2746,"mtime":1607874127356,"results":"19","hashOfConfig":"12"},{"size":1129,"mtime":1607876519797,"results":"20","hashOfConfig":"12"},{"size":102,"mtime":1607874127361,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"10vzkdi",{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36","usedDeprecatedRules":"29"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\index.js",[],"C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\reportWebVitals.js",[],"C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\App.js",["45"],"import React from 'react';\r\nimport '../index.css';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  Link\r\n} from \"react-router-dom\";\r\nimport firebase from 'firebase/app';\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport Petitions from './Petitions';\r\nimport PetitionForm from './Petition-form';\r\nimport User from './User';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBRR8gvYPh4zoGSzmQcyDz4vtkiS66NDFU\",\r\n  authDomain: \"active2025citizen.firebaseapp.com\",\r\n  databaseURL: \"https://active2025citizen-default-rtdb.europe-west1.firebasedatabase.app\",\r\n  projectId: \"active2025citizen\",\r\n  storageBucket: \"active2025citizen.appspot.com\",\r\n  messagingSenderId: \"49359637610\",\r\n  appId: \"1:49359637610:web:afbe7368807433be4c8e13\"\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nfunction App() {\r\n  const [petitions, setPetitions] = React.useState([]);\r\n  const [user, setUser] = React.useState({});\r\n  React.useEffect(() => {\r\n    authUser();\r\n    getPetitions();\r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function getPetitions() {\r\n    const petitionsRef = firebase.database().ref('petitions/');\r\n    petitionsRef.once('value', (snapshot) => {\r\n      if (snapshot.val() === null) {\r\n        console.log('ничего нет');\r\n        return\r\n      }\r\n      const obj = snapshot.val();\r\n      const petitionArr = [];\r\n      for (let i = 0; i < Object.keys(obj).length; i++) {\r\n        const petition = obj[Object.keys(obj)[i]];\r\n        petition.id = Object.keys(obj)[i];\r\n        petitionArr.unshift(petition);\r\n      }\r\n      setPetitions(petitionArr);\r\n    })\r\n  }\r\n\r\n  function authUser() {\r\n    firebase.auth().onAuthStateChanged(function(user) {\r\n      if (user) {\r\n        getUserData(user.uid);\r\n      } else {\r\n        console.log('no user');\r\n        }\r\n    });   \r\n  }\r\n\r\n  function getUserData(uid) {\r\n    const userRef = firebase.database().ref('users/'+ uid);\r\n    userRef.once('value', (snapshot) => {\r\n      if (snapshot.val() === null) {\r\n        console.log('ничего нет');\r\n        return\r\n      }\r\n      const obj = snapshot.val();\r\n      setUser(obj);\r\n    })\r\n  }\r\n\r\n  function signOut() {\r\n    firebase.auth().signOut().then(function() {\r\n      setUser({})\r\n      console.log('signOut success');\r\n    }).catch(function(error) {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className=\"page\">\r\n        <header className=\"header\">\r\n          <Link to=\"/\">домой</Link>\r\n          {user.uid ? <div><span>{user.name}  </span><span onClick={signOut}>  выход</span></div> : <Link to=\"/user\">пользователь</Link>}     \r\n        </header>\r\n        <main className=\"main\">\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <PetitionForm/>\r\n              <Petitions petitions={petitions}/>\r\n            </Route>\r\n            <Route path=\"/user\">\r\n              <User/>\r\n            </Route>\r\n          </Switch>\r\n        </main>\r\n        <footer className=\"footer\">footer</footer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n",["46","47"],"C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\utils\\poems.js",[],"C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\Petitions.js",[],"C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\User.js",["48"],"import React from 'react';\r\nimport firebase from 'firebase/app';\r\nimport \"firebase/auth\";\r\nimport userImage from '../styles/images/user__image.png';\r\nimport {\r\n  Switch,\r\n  Route,\r\n  Link, \r\n  useHistory\r\n} from \"react-router-dom\";\r\n\r\nfunction User() {\r\n  const signUpNameInputRef = React.useRef();\r\n  const signUpEmailInputRef = React.useRef();\r\n  const signUpPassInputRef = React.useRef();\r\n  const signInEmailInputRef = React.useRef();\r\n  const signInPassInputRef = React.useRef();\r\n  const [errorMsg, setErrorMsg] = React.useState('');\r\n  const history = useHistory();\r\n\r\n  function signUp(event) {\r\n    event.preventDefault();\r\n    const user = {\r\n      name: signUpNameInputRef.current.value,\r\n      email: signUpEmailInputRef.current.value,\r\n      password: signUpPassInputRef.current.value\r\n    }\r\n    firebase.auth().createUserWithEmailAndPassword(user.email, user.password)\r\n    .then((user) => {\r\n      createUser(user);\r\n    })\r\n    .catch((error) => {\r\n      console.log(error);\r\n      setErrorMsg(error.message);\r\n      setTimeout(() => setErrorMsg(''), 2000);\r\n    });    \r\n  }\r\n\r\n  function signIn(event) {\r\n    event.preventDefault();\r\n    firebase.auth().signInWithEmailAndPassword(signInEmailInputRef.current.value, signInPassInputRef.current.value)\r\n        .then( response => {\r\n          setTimeout(() => history.push('/'), 2000);\r\n        })\r\n        .catch( error => {\r\n            if (error.code === \"auth/user-not-found\") {\r\n              setErrorMsg('Пользователь не найден.');\r\n            }\r\n            else if (error.code === \"auth/wrong-password\") {\r\n              setErrorMsg('Неправильный пароль.');\r\n            }\r\n            else if (error.code === \"auth/too-many-requests\") {\r\n              setErrorMsg('Слишком частые запросы, попробуйте позднее');\r\n            }\r\n            else {\r\n              setErrorMsg('Неизвестная ошибка, попробуйте позднее.');\r\n            }\r\n            setTimeout(() => setErrorMsg(''), 2000);\r\n        })\r\n  }\r\n\r\n  function createUser(user) {\r\n    var userData = {\r\n      uid: user.user.uid,\r\n      email: user.user.email,\r\n      name: signUpNameInputRef.current.value\r\n    };\r\n    var updates = {};\r\n    updates['/users/' + userData.uid] = userData;\r\n    setTimeout(() => history.push('/'), 2000);\r\n    return firebase.database().ref().update(updates);\r\n  }\r\n\r\n  return (\r\n    <section className=\"user\">\r\n      <img className=\"user__image\" src={userImage} alt=\"изображение с профилями людей\"/>\r\n      <h3 className=\"user__title\">ГРАЖДАНИН-ПОЭТ</h3>\r\n      <Switch>\r\n        <Route path=\"/user\" exact>\r\n          <div className=\"user__lobby\">\r\n            <Link to=\"/user/sign-up\"><button class=\"user__btn\">Создать аккаунт</button></Link>\r\n            <Link to=\"/user/sign-in\"><button class=\"user__btn user__btn_sing-in\">Войти</button></Link>\r\n          </div>\r\n        </Route>\r\n        <Route path=\"/user/sign-up\" exact>\r\n          <form className=\"user__form\" onSubmit={signUp}>\r\n            <input class=\"user__input\" type=\"text\" placeholder=\"Полное имя\" ref={signUpNameInputRef} required/>\r\n            <input class=\"user__input\" type=\"email\" placeholder=\"Email\" ref={signUpEmailInputRef} required/>\r\n            {/* <span>{errorMsg}</span> */}\r\n            <input class=\"user__input user__input_password\" type=\"password\" placeholder=\"Пароль\" ref={signUpPassInputRef} required/>\r\n            <button class=\"user__btn\" type=\"submit\">Создать аккаунт</button>\r\n          </form>\r\n          <span className=\"user__question\">Уже есть аккаунт? <Link to=\"/user/sign-in\">Войдите</Link></span>\r\n        </Route>\r\n        <Route path=\"/user/sign-in\" exact>\r\n          <form className=\"user__form\" onSubmit={signIn}>\r\n            <input class=\"user__input\" type=\"email\" placeholder=\"Email\" ref={signInEmailInputRef} required/>\r\n            <input class=\"user__input user__input_password\" type=\"password\" placeholder=\"Пароль\" ref={signInPassInputRef} required/>\r\n            {/* <span>{errorMsg}</span> */}\r\n            <button class=\"user__btn\" type=\"submit\">Войти</button>          \r\n          </form>\r\n          <span className=\"user__question\">Нет аккаунта? <Link to=\"/user/sign-up\">Регистрация</Link></span>\r\n        </Route>\r\n      </Switch>\r\n\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default User; \r\n","C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\Petition.js",[],"C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\AddNew.js",[],"C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\components\\Header.js",[],"C:\\Users\\jiumo\\Documents\\active-citizen-2025\\src\\contexts\\UserContext.js",[],{"ruleId":"49","severity":1,"message":"50","line":74,"column":12,"nodeType":"51","messageId":"52","endLine":74,"endColumn":19},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"49","severity":1,"message":"57","line":18,"column":10,"nodeType":"51","messageId":"52","endLine":18,"endColumn":18},"no-unused-vars","'cutPoem' is defined but never used.","Identifier","unusedVar","no-native-reassign",["58"],"no-negated-in-lhs",["59"],"'errorMsg' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]