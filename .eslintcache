[{"C:\\programming\\active-citizen-2025\\src\\index.js":"1","C:\\programming\\active-citizen-2025\\src\\reportWebVitals.js":"2","C:\\programming\\active-citizen-2025\\src\\components\\App.js":"3","C:\\programming\\active-citizen-2025\\src\\components\\Feed.js":"4","C:\\programming\\active-citizen-2025\\src\\components\\Petitions.js":"5","C:\\programming\\active-citizen-2025\\src\\components\\SignInUpReq.js":"6","C:\\programming\\active-citizen-2025\\src\\components\\Categories.js":"7","C:\\programming\\active-citizen-2025\\src\\components\\AddNew.js":"8","C:\\programming\\active-citizen-2025\\src\\components\\OpenedPetition.js":"9","C:\\programming\\active-citizen-2025\\src\\components\\Header.js":"10","C:\\programming\\active-citizen-2025\\src\\contexts\\UserContext.js":"11","C:\\programming\\active-citizen-2025\\src\\components\\User.js":"12","C:\\programming\\active-citizen-2025\\src\\components\\Category.js":"13","C:\\programming\\active-citizen-2025\\src\\components\\Petition.js":"14","C:\\programming\\active-citizen-2025\\src\\components\\UserQuestion.js":"15","C:\\programming\\active-citizen-2025\\src\\components\\Popup.js":"16","C:\\programming\\active-citizen-2025\\src\\components\\SignInForm.js":"17","C:\\programming\\active-citizen-2025\\src\\utils\\popupTexts.js":"18","C:\\programming\\active-citizen-2025\\src\\components\\SignUpForm.js":"19","C:\\programming\\active-citizen-2025\\src\\utils\\poems.js":"20","C:\\programming\\active-citizen-2025\\src\\components\\Footer.js":"21"},{"size":402,"mtime":1607870895648,"results":"22","hashOfConfig":"23"},{"size":362,"mtime":499162500000,"results":"24","hashOfConfig":"23"},{"size":3289,"mtime":1608831686386,"results":"25","hashOfConfig":"23"},{"size":484,"mtime":1608371984181,"results":"26","hashOfConfig":"23"},{"size":471,"mtime":1608371984183,"results":"27","hashOfConfig":"23"},{"size":1196,"mtime":1608831617661,"results":"28","hashOfConfig":"23"},{"size":1095,"mtime":1608797987513,"results":"29","hashOfConfig":"23"},{"size":6216,"mtime":1608831716025,"results":"30","hashOfConfig":"23"},{"size":5001,"mtime":1608797987514,"results":"31","hashOfConfig":"23"},{"size":2396,"mtime":1608833268591,"results":"32","hashOfConfig":"23"},{"size":102,"mtime":1607870895647,"results":"33","hashOfConfig":"23"},{"size":1103,"mtime":1608831574841,"results":"34","hashOfConfig":"23"},{"size":524,"mtime":1608371984181,"results":"35","hashOfConfig":"23"},{"size":1561,"mtime":1608797987514,"results":"36","hashOfConfig":"23"},{"size":285,"mtime":1608634811685,"results":"37","hashOfConfig":"23"},{"size":641,"mtime":1608634811682,"results":"38","hashOfConfig":"23"},{"size":2643,"mtime":1608634811683,"results":"39","hashOfConfig":"23"},{"size":130,"mtime":1608634811690,"results":"40","hashOfConfig":"23"},{"size":3454,"mtime":1608831605438,"results":"41","hashOfConfig":"23"},{"size":7930578,"mtime":1608287181644,"results":"42","hashOfConfig":"23"},{"size":144,"mtime":1608827419479,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"qczmw7",{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"46"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"C:\\programming\\active-citizen-2025\\src\\index.js",[],["88","89"],"C:\\programming\\active-citizen-2025\\src\\reportWebVitals.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\App.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\Feed.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\Petitions.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\SignInUpReq.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\Categories.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\AddNew.js",["90"],"C:\\programming\\active-citizen-2025\\src\\components\\OpenedPetition.js",["91","92"],"import React from 'react';\r\nimport {\r\n  useHistory\r\n} from \"react-router-dom\";\r\nimport { useParams } from 'react-router';\r\nimport firebase from 'firebase/app';\r\nimport \"firebase/auth\";\r\nimport \"firebase/database\";\r\nimport UserContext from '../contexts/UserContext';\r\n\r\n\r\nfunction OpenedPetition({showDate}) {\r\n  const { pId } = useParams();\r\n  const user = React.useContext(UserContext);\r\n  const history = useHistory();\r\n  const [text, setText] = React.useState('');\r\n  const [title, setTitle] = React.useState('');\r\n  const [author, setAuthor] = React.useState('');\r\n  const [likes, setLikes] = React.useState([]);\r\n  const [disLikes, setDisLikes] = React.useState([]);\r\n  const [imgUrl, setImgUrl] = React.useState('');\r\n  const [date, setDate] = React.useState('');\r\n  const [category, setCategory] = React.useState('');\r\n  React.useEffect(() => { \r\n    const cheatSheetRef = firebase.database().ref('petitions/' + pId);\r\n    cheatSheetRef.once('value', (snapshot) => {\r\n      if (snapshot.val() === null) {\r\n        //setSetNotFound(true);\r\n        //hideLoader();\r\n        return\r\n      }\r\n      const obj = snapshot.val();\r\n      setText(obj.poem.text);\r\n      setTitle(obj.poem.title);\r\n      setAuthor(obj.author);\r\n      setImgUrl(obj.imgLink);\r\n      setDate(showDate(obj.date));\r\n      setCategory(obj.category);\r\n      obj.likes ? setLikes(obj.likes) : setLikes([]);\r\n      obj.dislikes ? setDisLikes(obj.dislikes) : setDisLikes([]);\r\n    }); \r\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  function handleLikeClick() {\r\n    if (!user.uid) {\r\n      console.log('ВЫ НЕЗАЛОГИНЕНЫ');\r\n      return history.push('/user/sign-in')\r\n    }\r\n    if (likes.includes(user.uid)) { // лайкал?\r\n      console.log('лайкал, удаляем лайк');\r\n      const newLikesArr = likes.filter(el => el !== user.uid); \r\n      setLikes(newLikesArr); // удаляем лайк\r\n      firebaseReactionHandler('/likes', newLikesArr);\r\n    } else if (disLikes.includes(user.uid)) { // дизлайкал?\r\n      console.log('не лайкал и дизлайкал. убираем дизлайк. ставим лайк');\r\n      const newDisLikesArr = disLikes.filter(el => el !== user.uid); \r\n      setDisLikes(newDisLikesArr); // удаляем дислайк\r\n      firebaseReactionHandler('/dislikes', newDisLikesArr);\r\n      const newLikesArr = [...likes, user.uid]; //ставим лайк\r\n      setLikes(newLikesArr);\r\n      firebaseReactionHandler('/likes', newLikesArr);\r\n    } else {\r\n      const newLikesArr = [...likes, user.uid]; //ставим лайк\r\n      setLikes(newLikesArr);\r\n      firebaseReactionHandler('/likes', newLikesArr);\r\n      console.log('ставим лайк')\r\n    }\r\n  }\r\n\r\n  function handleDislikeLikeClick() {\r\n    if (!user.uid) {\r\n      console.log('ВЫ НЕЗАЛОГИНЕНЫ');\r\n      return history.push('/user/sign-in')\r\n    }\r\n    if (disLikes.includes(user.uid)) { // лайкал?\r\n      console.log('дислайкал, удаляем дислайк');\r\n      const newDisLikesArr = disLikes.filter(el => el !== user.uid); \r\n      setDisLikes(newDisLikesArr); // удаляем дислайк\r\n      firebaseReactionHandler('/dislikes', newDisLikesArr);\r\n    } else if (likes.includes(user.uid)) { // лайкал?\r\n      console.log('не лайкал и дизлайкал. убираем лайк. ставим дислайк');\r\n      const newLikesArr = likes.filter(el => el !== user.uid); \r\n      setLikes(newLikesArr); // удаляем лайк\r\n      firebaseReactionHandler('/likes', newLikesArr);\r\n      const newDisLikesArr = [...disLikes, user.uid]; //ставим лайк\r\n      setDisLikes(newDisLikesArr);\r\n      firebaseReactionHandler('/dislikes', newDisLikesArr);\r\n    } else {\r\n      const newDisLikesArr = [...disLikes, user.uid]; //ставим лайк\r\n      setDisLikes(newDisLikesArr);\r\n      console.log('ставим дислайк');\r\n      firebaseReactionHandler('/dislikes', newDisLikesArr);\r\n    }\r\n  }\r\n\r\n  function firebaseReactionHandler(path, reactionArr) {\r\n    var updates = {};\r\n    updates['/petitions/' + pId + path] = reactionArr;\r\n    return firebase.database().ref().update(updates);    \r\n  }\r\n\r\n  return (\r\n    <article className={`opened-petition opened-petition_type_${category}`}>\r\n      <div className=\"opened-petition__container\">\r\n        <div className=\"opened-petition__container opened-petition__container_left\">\r\n          <h3 className=\"opened-petition__title\">{title}</h3>\r\n          <p className=\"opened-petition__text\">{text}</p>\r\n        </div>\r\n        <div className=\"opened-petition__container opened-petition__container_right\">\r\n          <p className=\"opened-petition__date\">{date}</p>\r\n          <p className=\"opened-petition__author\">{author}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"opened-petition__image\" style={{backgroundImage: 'url(' + imgUrl + ')',}}></div>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default OpenedPetition; \r\n","C:\\programming\\active-citizen-2025\\src\\components\\Header.js",[],"C:\\programming\\active-citizen-2025\\src\\contexts\\UserContext.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\User.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\Category.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\Petition.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\UserQuestion.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\Popup.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\SignInForm.js",[],"C:\\programming\\active-citizen-2025\\src\\utils\\popupTexts.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\SignUpForm.js",[],"C:\\programming\\active-citizen-2025\\src\\utils\\poems.js",[],"C:\\programming\\active-citizen-2025\\src\\components\\Footer.js",[],{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","severity":1,"message":"98","line":90,"column":18,"nodeType":"99","messageId":"100","endLine":90,"endColumn":26,"fix":"101"},{"ruleId":"102","severity":1,"message":"103","line":44,"column":12,"nodeType":"104","messageId":"105","endLine":44,"endColumn":27},{"ruleId":"102","severity":1,"message":"106","line":70,"column":12,"nodeType":"104","messageId":"105","endLine":70,"endColumn":34},"no-native-reassign",["107"],"no-negated-in-lhs",["108"],"new-parens","Missing '()' invoking a constructor.","NewExpression","missing",{"range":"109","text":"110"},"no-unused-vars","'handleLikeClick' is defined but never used.","Identifier","unusedVar","'handleDislikeLikeClick' is defined but never used.","no-global-assign","no-unsafe-negation",[2768,2768],"()"]